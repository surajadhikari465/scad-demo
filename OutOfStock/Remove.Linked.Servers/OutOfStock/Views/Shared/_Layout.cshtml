<!DOCTYPE html>
<html>
    <head>
                <!-- Force latest IE rendering engine or ChromeFrame if installed -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

        <title>@ViewBag.Title</title>

        <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" /> 
        <link href="@Url.Content("~/Content/css/smoothness/jquery-ui-1.8.12.custom.css")" rel="stylesheet" type="text/css" />
        <link href="@Url.Content("~/Content/css/font-awesome.min.css")" rel="stylesheet" type="text/css"/>
        <script src="@Url.Content("~/Scripts/jquery-1.7.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
        
        

        <script>
    dataLayer = [{
        'username': '@User.Identity.Name',
        'isStore': '@OutOfStock.Models.OOSUser.isStoreLevel',
        'isRegional': '@OutOfStock.Models.OOSUser.isRegionalBuyer',
        'isCentral' : '@OutOfStock.Models.OOSUser.isCentral',
        'permissions' : '@OutOfStock.Models.OOSUser.userPermissions',
        'region' : '@OutOfStock.Models.OOSUser.userRegion'
            }];
        </script>



        <script type="text/javascript">
            $(document).ready(function () {
                adjustHeights();
                $(window).resize(function () {
                    $('.page').css("height", "auto");  // Eliminate the heights value
                    adjustHeights();  // Set the heights once more
                });

            });

            function adjustHeights() {
                var heightBody = $(window).height();
                var heightContent = $('#header').height() + $('#main').height() + $('#footer').height();
                heightContent += 180 + 20;   // 6 * 30px top/bottom margins for each
                var heightPage = Math.max(heightBody, heightContent) - 10;  // 2 * 5px top/bottom margins 
                $('.pageInner').height(heightPage - 90 - 20);
                $('.page').height(heightPage);
            }
        </script>

        @(Html.Telerik().StyleSheetRegistrar()      
              .DefaultGroup(group => group
                                         .Add("telerik.telerik.css")                  
                                         .Add("telerik.common.css")                 
                                         .Add("telerik.rtl.css")                   
                                         .Combined(true)                     
                                         .Compress(true))               
              )
        @RenderSection("HeadContent", required:false)
        @{
            string currentController = Url.RequestContext.RouteData.Values["controller"].ToString().ToLower();
        }
        
        <!-- Google Tag Manager -->
        <noscript>
            <iframe src="//www.googletagmanager.com/ns.html?id=GTM-K2BPNV"
                    height="0" width="0" style="display: none; visibility: hidden"></iframe>
        </noscript>
        <script>
            (function (w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({
                    'gtm.start':
                        new Date().getTime(),
                    event: 'gtm.js'
                });
                var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s),
                    dl = l != 'dataLayer' ? '&l=' + l : '';
                j.async = true;
                j.src =
                    '//www.googletagmanager.com/gtm.js?id=' + i + dl;
                f.parentNode.insertBefore(j, f);
            })(window, document, 'script', 'dataLayer', 'GTM-K2BPNV');
        </script>
        
        <script type="text/javascript">
    @*var appInsights = window.appInsights || function (config) {
        function s(config) { t[config] = function () { var i = arguments; t.queue.push(function () { t[config].apply(t, i) }) } } var t = { config: config }, r = document, f = window, e = "script", o = r.createElement(e), i, u; for (o.src = config.url || "//az416426.vo.msecnd.net/scripts/a/ai.0.js", r.getElementsByTagName(e)[0].parentNode.appendChild(o), t.cookie = r.cookie, t.queue = [], i = ["Event", "Exception", "Metric", "PageView", "Trace"]; i.length;) s("track" + i.pop()); return config.disableExceptionTracking || (i = "onerror", s("_" + i), u = f[i], f[i] = function (config, r, f, e, o) { var s = u && u(config, r, f, e, o); return s !== !0 && t["_" + i](config, r, f, e, o), s }), t
    }({
        instrumentationKey: "@Microsoft.ApplicationInsights.Extensibility.TelemetryConfiguration.Active.InstrumentationKey"
    });

    window.appInsights = appInsights;*@    
        </script>

    </head>
<body>
    <div class="page">
    <center>
    <table class="CleanTable" style="width:90%;">
        <tr class="CleanTable">
            <td align="right" class="CleanTable"><p class="logo"></p></td>
        </tr>
        <tr class="CleanTable">
            <td align="left" class="CleanTable">
    <div class="pageInner" style="">
        <div id="header">
            <table class="CleanTable" style="width:100%;">
                <tr class="CleanTable">
                    <td align="left" class="CleanTable">
                        <div id="title">
                        </div>
                    </td>
                    <td align="right" class="CleanTable">
                        <div id="logindisplay">
                            Welcome <strong>@User.Identity.Name</strong>!
                        </div>
                    </td>
                </tr>
            </table>
            <div id="menucontainer">
                <table  class="CleanTable">
                    <tr class="CleanTable">
                @if (OutOfStock.Models.OOSUser.isStoreLevel && OutOfStock.Models.OOSUser.HasValidLocationInformation)
                {
                    <td class="CleanTable">
                        <a  class="MenuLink" href="@Url.Action("Index", "SummaryReport")">
                            <div class="MenuTab @(currentController == "summaryreport" ? "MenuTabSelected" : "MenuTabNormal")">
                                SUMMARY REPORT
                            </div>
                        </a>
                    </td>
                    <td class="CleanTable">
                        <a class="MenuLink" href="@Url.Action("Index", "CustomReport")">
                            <div class="MenuTab @(currentController == "customreport" ? "MenuTabSelected" : "MenuTabNormal")">
                                CUSTOM REPORT
                            </div>
                        </a>
                    </td>
                }
                @if (OutOfStock.Models.OOSUser.isRegionalBuyer && OutOfStock.Models.OOSUser.HasValidLocationInformation)
                {
                    <td class="CleanTable">
                        <a class="MenuLink" href="@Url.Action("Index", "Upload")">
                            <div class="MenuTab @(currentController == "upload" ? "MenuTabSelected" : "MenuTabNormal")">
                                BULK UPLOAD
                            </div>
                        </a>
                    </td>
                    <td class="CleanTable">
                        <a class="MenuLink" href="@Url.Action("Index", "ProductStatus")">
                            <div class="MenuTab @(currentController == "productstatus" ? "MenuTabSelected" : "MenuTabNormal")">
                               PRODUCT STATUS
                            </div>
                        </a>
                    </td>                    
                   @* <td class="CleanTable"><div  
                        class="MenuTab @(currentController == "upcedit" ? "MenuTabSelected" : "MenuTabNormal")"
                        >@Html.ActionLink("UPC EDIT TOOL", "Index", "UPCEdit")</div></td> *@
                }
                @if ((OutOfStock.Models.OOSUser.isCentral || OutOfStock.Models.OOSUser.isRegionalBuyer)  && OutOfStock.Models.OOSUser.HasValidLocationInformation)
                {
                    <td class="CleanTable">
                        <a class="MenuLink" href="@Url.Action("Index", "Admin")">
                            <div class="MenuTab @(currentController == "admin" ? "MenuTabSelected" : "MenuTabNormal")">
                                ADMINISTRATION
                            </div>
                        </a>
                    </td> 
                }
                
                @if (OutOfStock.Models.OOSUser.isStoreLevel && OutOfStock.Models.OOSUser.HasValidLocationInformation)
                {
                    <td class="CleanTable">
                        <a class="MenuLink" href="@Url.Action("Index", "Support")">
                            <div class="MenuTab @(currentController == "support" ? "MenuTabSelected" : "MenuTabNormal")">
                                SUPPORT
                            </div>
                        </a>
                    </td>
                }

                        <td class="CleanTable"></td>
                    </tr>
                </table>
            </div>
        </div>
        <div id="main">
            @RenderBody()
        </div>
        <div id="footer">
        </div>
    </div>
            </td>
        </tr>
    </table>
    </center>
    </div>
    <!-- The below is mandetory and is available if the Telerik package is properly installed -->
    @(Html.Telerik().ScriptRegistrar()
        .DefaultGroup(group => group
        .Add("telerik.common.js")
        .Add("telerik.datepicker.js")
        .Compress(true))
    )
</body>
</html>
