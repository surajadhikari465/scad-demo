function isValidUPC(n,t){if(n!=""){var i='{ "upc": "'+n+'" }';$.ajax({type:"POST",url:"/ProductStatus/IsValidUPC",data:i,contentType:"application/json; charset=utf-8",dataType:"json"}).success(function(i){var r="";i.VimInfo!=null?(r="<span style='font-weight: bold;'>[ "+i.VimInfo.LONG_DESCRIPTION+" ]<\/span>",i.ExistsInOOS&&(r+=" <span style='color: darkred; font-weight: bold;'>This item already has a product status assigned to it.<\/span>")):r="<span style='color: darkred; font-weight: bold;'>This UPC ["+n+" ] does not exist in the VIM. <\/span>",$(t).html(r)})}else $(t).html("")}function Menu_OnSelect(n){var i,u,t,r;for($(".t-state-active",this).removeClass("t-state-active"),$(n.item).addClass("t-state-active"),i=$(n.item).index(),u=$(menuPanels[i]),t=0;t<menuPanels.length;t++)r=$(menuPanels[t]),r.is(":visible")&&r.slideUp(100);u.slideDown(100),activePanel=menuPanels[i]}function grid_onload(){}function grid_onedit(){}function onSave(){}function onError(){}function onDataBound(){isCentralUser&&$(".ControlsColumn").remove();var n=$("tr.t-no-data td");n.length>0?n.html("No records to display"):adjustHeights(),$("input.productStatusBulkEditSelect[type=checkbox]").change(function(){ToggleBulkEditMenu()})}var globalFilterData={filtered:!1,filterupc:"",filterstatus:"",filterregion:selectedRegion},activePanel="",menuPanels=["#SearchPanel","#BulkEditPanel","#AddNewPanel"],defaultpageheight;regionChanged=function(n){var i=$("#productStatusToFind"),r=$("#upctofind"),u=$("#expirationtofind"),f=$("#MyGrid").data("tGrid"),e=$("tr.t-no-data td"),t;selectedRegion=$(n).val(),setFilterData(!0,r.val(),i.val(),u.val(),selectedRegion,!0),e.length==0&&(t=$("thead.t-grid-header + tbody"),t.prepend("<tr class='t-no-data'><td><div id='loadingPanel'><img src='/Content/images/loading.gif' alt='Loading...'/><\/div><\/td><\/tr>")),f.ajaxRequest()},setFilterData=function(n,t,i,r,u,f){if(globalFilterData={filtered:n,filterupc:t,filterstatus:i,filterexpiration:r,filterregion:u},f){var e=$("#MyGrid").data("tGrid");e.dataSource._data=[],e.ajaxRequest()}},executeSearch=function(n){if(selectedRegion==""||selectedRegion=="CE"){alert("Please select a region"),$("#Regions").focus();return}var t=$("#productStatusToFind"),r=$("#upctofind"),i=$("#expirationtofind");n&&(t.val(""),i.val("")),setFilterData(!0,n?n:r.val(),t.val(),i.val(),selectedRegion,!0)},clearBulkEdit=function(){var n=$("#BulkEditStatus"),t=$("#BulkEditExpiration");n.val(""),t.val(""),n.focus()},clearSearchCriteria=function(){var n=$("#productStatusToFind"),t=$("#upctofind"),i=$("#expirationtofind");t.val(""),n.val(""),i.val(""),n.focus()},GridEdit=function(){$(".t-grid-update").attr("title","Save"),$(".t-grid-cancel").attr("title","Cancel")},Menu_OnLoad=function(){var t=$("#ActionsMenu").data("tMenu"),i=$("> li",t.element)[2],n=$("#Regions");isCentralUser?(n.removeAttr("disabled"),t.disable(i)):(n.val(selectedRegion),n.attr("disabled","disabled"),n.css("cursor","not-allowed"))},onDataBinding=function(n){var i=$("#MyGrid").data("tGrid"),t;i.dataSource._data=[],t=$("tr.t-no-data td"),t.length==1&&$("tr.t-no-data td").html("<div id='loadingPanel'><img src='/Content/images/loading.gif' alt='Loading...'/><\/div>"),n.data=globalFilterData},ToggleBulkEditMenu=function(){var n=$("#ActionsMenu").data("tMenu"),t=$("> li",n.element)[1];isCentralUser?n.disable(t):$(".productStatusBulkEditSelect:checked").length>0?n.enable(t):n.disable(t)},jQuery.fn.makeVisible=function(){return this.css("visibility","visible")},jQuery.fn.makeInvisible=function(){return this.css("visibility","hidden")},AddNew=function(){var n=$("input[name=AddNew_Status]");if(n.val()==""){$("#AddNew_Information").html("A Product Status is required"),n.addClass("t-state-error"),n.focus();return}n.removeClass("t-state-error");var t=$("input[name=UPCToAdd]"),i=$("input[name=AddNew_Expiration]"),r={upc:t.val(),status:n.val(),expiration:i.val(),region:selectedRegion};$.ajax({type:"POST",url:"/ProductStatus/AddNew",data:JSON.stringify(r),contentType:"application/json; charset=utf-8",dataType:"json"}).success(function(r){r&&($("#AddNew_Information").html("<span style='font-weight: bold; color:green;'>Product status saved.<\/span> "),executeSearch(t.val()),n.val(""),i.val(""),t.val(""))})},BulkDelete=function(){var n=[],t;confirm("Are you sure you wish to delete the selected items?")&&($(".productStatusBulkEditSelect:checked").each(function(){var t=$(this);n.push(t.attr("value"))}),t={Ids:n},n.length>0&&$.ajax({type:"POST",url:"/ProductStatus/BulkDelete",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json"}).success(function(n){n&&($("#BulkEdit_Information").html(n+" record(s) deleted. "),ClearBulkEdit(),executeSearch())}))},BulkSave=function(){var i=$("input[name=BulkEditStatus]"),r=$("input[name=BulkEditExpiration]").val(),n=[],t;($(".productStatusBulkEditSelect:checked").each(function(){var t=$(this);n.push(t.attr("value"))}),n.length!=0)&&(t={status:i.val(),expiration:r,Ids:n},$.ajax({type:"POST",url:"/ProductStatus/BulkSave",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json"}).success(function(n){n&&($("#BulkEdit_Information").html(n+" record(s) saved. "),ClearBulkEdit(),executeSearch())}))},ClearBulkEdit=function(){var n=$("input[name=BulkEditStatus]"),t=$("input[name=BulkEditExpiration]");n.val(""),n.removeClass("t-state-error"),n.focus(),t.val(""),t.removeClass("t-state-error")},PageInit=function(){defaultpageheight=$(".page").height(),$("input").bind("keydown",function(n){var t=n.keyCode?n.keyCode:n.which?n.which:n.charCode;if(t==13){switch(activePanel){case"#SearchPanel":executeSearch();break;case"#BulkEditPanel":BulkSave();break;case"#AddNewPanel":AddNew()}return!1}return!0}),$("#bulkSelectAll").change(function(){var i=$("#bulkSelectAll")[0].checked,t=$(".productStatusBulkEditSelect"),n;if(t)for(n=0;n<t.length;++n)t[n].checked=i;ToggleBulkEditMenu()}),$("#formSubmitBulkEdit").submit(function(){var t="",i=$(".productStatusBulkEditSelect"),n;if(i){for(n=0;n<i.length;++n)i[n].checked&&(t.length>0&&(t+=","),t+=i[n].value);$("#gridSelectedItems").val(t)}}),$(".ProductStatusBulkEditDialogShowTrigger").click(function(){var t=$(".ProductStatusBulkEditDialogShow"),n;if(t)for(n=0;n<t.length;++n)$(t[n]).hide();if(t=$(".ProductStatusBulkEditDialogHide"),t)for(n=0;n<t.length;++n)$(t[n]).show("slow")}),$(".ProductStatusBulkEditDialogHideTrigger").click(function(){var t=$(".ProductStatusBulkEditDialogHide"),n;if(t)for(n=0;n<t.length;++n)$(t[n]).hide();if(t=$(".ProductStatusBulkEditDialogShow"),t)for(n=0;n<t.length;++n)$(t[n]).show("slow")}),$("#productStatusToFind").first().focus()},$(function(){PageInit()});
//@ sourceMappingURL=productstatus.min.js.map