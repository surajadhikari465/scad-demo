<?xml version="1.0"?>
<DTS:Executable xmlns:DTS="www.microsoft.com/SqlServer/Dts"
  DTS:refId="Package"
  DTS:CreationDate="6/19/2019 11:19:07 AM"
  DTS:CreationName="Microsoft.Package"
  DTS:CreatorComputerName="CECEN-3PH2N72"
  DTS:CreatorName="WFM\Blake.Jones"
  DTS:DTSID="{9966465F-7DE5-48DD-8997-04682E1A1ABE}"
  DTS:ExecutableType="Microsoft.Package"
  DTS:LastModifiedProductVersion="15.0.1300.375"
  DTS:LocaleID="1033"
  DTS:ObjectName="Package"
  DTS:PackageType="5"
  DTS:VersionBuild="47"
  DTS:VersionGUID="{015AF31E-5ED2-4E49-97AA-9D3A1B23DF55}">
  <DTS:Property
    DTS:Name="PackageFormatVersion">8</DTS:Property>
  <DTS:ConnectionManagers>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[IrmaConnection]"
      DTS:CreationName="OLEDB"
      DTS:DTSID="{7739D87E-20B3-4321-9C01-BF3A10587FD0}"
      DTS:ObjectName="IrmaConnection">
      <DTS:PropertyExpression
        DTS:Name="InitialCatalog">@[$Package::IrmaDatabase]</DTS:PropertyExpression>
      <DTS:PropertyExpression
        DTS:Name="ServerName">@[$Package::IrmaServer]</DTS:PropertyExpression>
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectionString="Data Source=idd-fl\fld;Initial Catalog=ItemCatalog_Test;Provider=SQLNCLI11.1;Integrated Security=SSPI;Auto Translate=False;" />
      </DTS:ObjectData>
    </DTS:ConnectionManager>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[MammothConnection]"
      DTS:CreationName="OLEDB"
      DTS:DTSID="{38040F27-A36D-4E76-AAF7-5200AB65D2F4}"
      DTS:ObjectName="MammothConnection">
      <DTS:PropertyExpression
        DTS:Name="InitialCatalog">@[$Package::MammothDatabase]</DTS:PropertyExpression>
      <DTS:PropertyExpression
        DTS:Name="ServerName">@[$Package::MammothServer]</DTS:PropertyExpression>
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectionString="Data Source=MAMMOTH-DB01-DEV\MAMMOTH;Initial Catalog=Mammoth_Dev;Provider=SQLNCLI11.1;Integrated Security=SSPI;Auto Translate=False;" />
      </DTS:ObjectData>
    </DTS:ConnectionManager>
  </DTS:ConnectionManagers>
  <DTS:PackageParameters>
    <DTS:PackageParameter
      DTS:CreationName=""
      DTS:DataType="8"
      DTS:DTSID="{8C34E272-10D5-4DE6-B485-4D365F4AC049}"
      DTS:ObjectName="IrmaDatabase"
      DTS:Required="True">
      <DTS:Property
        DTS:DataType="8"
        DTS:Name="ParameterValue">ItemCatalog_Test</DTS:Property>
    </DTS:PackageParameter>
    <DTS:PackageParameter
      DTS:CreationName=""
      DTS:DataType="8"
      DTS:DTSID="{0504CA66-0F4B-42C9-B78C-C091FA07BF1C}"
      DTS:ObjectName="IrmaServer"
      DTS:Required="True">
      <DTS:Property
        DTS:DataType="8"
        DTS:Name="ParameterValue">idd-fl\fld</DTS:Property>
    </DTS:PackageParameter>
    <DTS:PackageParameter
      DTS:CreationName=""
      DTS:DataType="8"
      DTS:DTSID="{A4BA2228-1237-4DD9-A8FF-B54EFD08F8B6}"
      DTS:ObjectName="MammothDatabase"
      DTS:Required="True">
      <DTS:Property
        DTS:DataType="8"
        DTS:Name="ParameterValue">Mammoth_Dev</DTS:Property>
    </DTS:PackageParameter>
    <DTS:PackageParameter
      DTS:CreationName=""
      DTS:DataType="8"
      DTS:DTSID="{74098E83-37FD-4322-BA72-CBFB22812A35}"
      DTS:ObjectName="MammothServer"
      DTS:Required="True">
      <DTS:Property
        DTS:DataType="8"
        DTS:Name="ParameterValue">MAMMOTH-DB01-DEV\MAMMOTH</DTS:Property>
    </DTS:PackageParameter>
  </DTS:PackageParameters>
  <DTS:Variables>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{4431AB54-0D89-4976-9689-A072BEA39819}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="&quot;IF NOT EXISTS(&#xA;&#x9;select *&#xA;&#x9;from INFORMATION_SCHEMA.Tables&#xA;&#x9;where TABLE_SCHEMA = 'stage'&#xA;&#x9;and TABLE_NAME = 'EtlItemAuthorizedData&quot; + @[User::Region] + &quot;')&#xA;BEGIN&#xA;&#x9;CREATE TABLE stage.EtlItemAuthorizedData&quot; + @[User::Region] + &quot;&#xA;&#x9;(&#xA;&#x9;&#x9;ItemKey INT NOT NULL,&#xA;&#x9;&#x9;ScanCode NVARCHAR(13) NOT NULL,&#xA;&#x9;&#x9;BusinessUnitId INT NOT NULL,&#xA;&#x9;&#x9;Authorized BIT NOT NULL,&#xA;&#x9;&#x9;DeletedItem BIT NOT NULL,&#xA;&#x9;&#x9;DeletedIdentifier BIT NOT NULL&#xA;&#x9;)&#xA;END&#xA;IF NOT EXISTS(&#xA;&#x9;select *&#xA;&#x9;from INFORMATION_SCHEMA.Tables&#xA;&#x9;where TABLE_SCHEMA = 'stage'&#xA;&#x9;and TABLE_NAME = 'EtlItemAuthorizedDataResults&quot; + @[User::Region] + &quot;')&#xA;BEGIN&#xA;&#x9;CREATE TABLE stage.EtlItemAuthorizedDataResults&quot; + @[User::Region] + &quot;&#xA;&#x9;(&#xA;&#x9;&#x9;ItemId INT NOT NULL,&#xA;&#x9;&#x9;ScanCode NVARCHAR(13) NOT NULL,&#xA;&#x9;&#x9;BusinessUnitId INT NOT NULL,&#xA;&#x9;&#x9;AuthorizedOriginalValue BIT NOT NULL,&#xA;&#x9;&#x9;AuthorizedNewValue BIT NOT NULL&#xA;&#x9;)&#xA;END&#xA;&#xA;truncate table stage.EtlItemAuthorizedData&quot; + @[User::Region] + &quot;&#xA;truncate table stage.EtlItemAuthorizedDataResults&quot; + @[User::Region]"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="CreateEtlItemAuthorizationTableSql">
      <DTS:VariableValue
        DTS:DataType="8">IF NOT EXISTS(
	select *
	from INFORMATION_SCHEMA.Tables
	where TABLE_SCHEMA = 'stage'
	and TABLE_NAME = 'EtlItemAuthorizedData')
BEGIN
	CREATE TABLE stage.EtlItemAuthorizedData
	(
		ItemKey INT NOT NULL,
		ScanCode NVARCHAR(13) NOT NULL,
		BusinessUnitId INT NOT NULL,
		Authorized BIT NOT NULL,
		DeletedItem BIT NOT NULL,
		DeletedIdentifier BIT NOT NULL
	)
END
IF NOT EXISTS(
	select *
	from INFORMATION_SCHEMA.Tables
	where TABLE_SCHEMA = 'stage'
	and TABLE_NAME = 'EtlItemAuthorizedDataResults')
BEGIN
	CREATE TABLE stage.EtlItemAuthorizedDataResults
	(
		ItemId INT NOT NULL,
		ScanCode NVARCHAR(13) NOT NULL,
		BusinessUnitId INT NOT NULL,
		AuthorizedOriginalValue BIT NOT NULL,
		AuthorizedNewValue BIT NOT NULL
	)
END

truncate table stage.EtlItemAuthorizedData
truncate table stage.EtlItemAuthorizedDataResults</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{BF2626FE-1130-4C61-91DA-8C1DA43C61BD}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="&quot;DELETE  &quot; + @[User::EtlItemAuthorizedDataTable] + &quot;&#xA;WHERE ScanCode NOT IN&#xA;&#x9;(SELECT i.ScanCode FROM dbo.Items i)&#xA;&#xA;DELETE  &quot; + @[User::EtlItemAuthorizedDataTable] + &quot;&#xA;WHERE BusinessUnitId NOT IN&#xA;&#x9;(&#xA;&#x9;SELECT l.BusinessUnitId FROM dbo.Locales_&quot; + @[User::Region] + &quot; l&#xA;&#x9;WHERE LocaleCloseDate IS NULL&#xA;&#x9;)&quot;"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="DeleteEtlDataNotInMammothSql">
      <DTS:VariableValue
        DTS:DataType="8">DELETE  stage.EtlItemAuthorizedData
WHERE ScanCode NOT IN
	(SELECT i.ScanCode FROM dbo.Items i)

DELETE  stage.EtlItemAuthorizedData
WHERE BusinessUnitId NOT IN
	(
	SELECT l.BusinessUnitId FROM dbo.Locales_ l
	WHERE LocaleCloseDate IS NULL
	)</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{A419E6DD-5BC1-4771-8AF0-692CE739E460}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="&quot;stage.EtlItemAuthorizedDataResults&quot; + @[User::Region]"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="EtlItemAuthorizedDataResultsTable">
      <DTS:VariableValue
        DTS:DataType="8">stage.EtlItemAuthorizedDataResults</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{145CA12C-CD68-4FC4-BF01-BEE3CD69D3B5}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="&quot;stage.EtlItemAuthorizedData&quot; + @[User::Region]"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="EtlItemAuthorizedDataTable">
      <DTS:VariableValue
        DTS:DataType="8">stage.EtlItemAuthorizedData</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{1EB8E618-9AB7-4ED5-946A-980EFD7BD39B}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="&quot;DECLARE @MessageTypeId INT = (SELECT TOP 1 MessageTypeId FROM esb.MessageType WHERE MessageTypeName = 'Item Locale'),&#xA;&#x9;&#x9;@MessageStatusId INT = (SELECT TOP 1 MessageStatusId FROM esb.MessageStatus WHERE MessageStatusName = 'Ready'),&#xA;&#x9;&#x9;@MessageActionId INT = (SELECT TOP 1 MessageActionId FROM esb.MessageAction WHERE MessageActionName = 'AddOrUpdate'),&#xA;&#x9;&#x9;@RegionCode NVARCHAR(2) = '&quot;+ @[User::Region] +&quot;',&#xA;&#x9;&#x9;@ColorAddedId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Color Added'),&#xA;&#x9;&#x9;@CountryOfProcessingId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Country of Processing'),&#xA;&#x9;&#x9;@OriginId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Origin'),&#xA;&#x9;&#x9;@ElectronicShelfTagId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Electronic Shelf Tag'),&#xA;&#x9;&#x9;@ExclusiveId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Exclusive'),&#xA;&#x9;&#x9;@NumDigitsToScaleId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Number of Digits Sent To Scale'),&#xA;&#x9;&#x9;@ChicagoBabyId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Chicago Baby'),&#xA;&#x9;&#x9;@TagUomId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Tag UOM'),&#xA;&#x9;&#x9;@LinkedScanCodeId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Linked Scan Code'),&#xA;&#x9;&#x9;@ScaleExtraTextId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Scale Extra Text')&#xA;&#xA;insert into&#xA;&#x9;esb.MessageQueueItemLocale&#xA;select&#xA;&#x9;[MessageTypeId] = @MessageTypeId,&#xA;&#x9;[MessageStatusId] = @MessageStatusId,&#xA;&#x9;[MessageHistoryId] = null,&#xA;&#x9;[MessageActionId] = @MessageActionId,&#xA;&#x9;[InsertDate] = sysdatetime(),&#xA;&#x9;[RegionCode] = @RegionCode,&#xA;&#x9;[BusinessUnitId] = l.BusinessUnitID,&#xA;&#x9;[ItemId] = i.ItemID,&#xA;&#x9;[ItemTypeCode] = it.ItemTypeCode,&#xA;&#x9;[ItemTypeDesc] = it.ItemTypeDesc,&#xA;&#x9;[LocaleName] = l.StoreName,&#xA;&#x9;[ScanCode] = i.ScanCode,&#xA;&#x9;[CaseDiscount] = ial.Discount_Case,&#xA;&#x9;[TmDiscount] = ial.Discount_TM,&#xA;&#x9;[AgeRestriction] = ial.Restriction_Age,&#xA;&#x9;[RestrictedHours] = ial.Restriction_Hours,&#xA;&#x9;[Authorized] = ial.Authorized,&#xA;&#x9;[Discontinued] = ial.Discontinued,&#xA;&#x9;[LabelTypeDescription] = ial.LabelTypeDesc,&#xA;&#x9;[LocalItem] = ial.LocalItem,&#xA;&#x9;[ProductCode] = ial.Product_Code,&#xA;&#x9;[RetailUnit] = ial.RetailUnit,&#xA;&#x9;[SignDescription] = ial.Sign_Desc,&#xA;&#x9;[Locality] = ial.Locality,&#xA;&#x9;[SignRomanceLong] = ial.Sign_RomanceText_Long,&#xA;&#x9;[SignRomanceShort] = ial.Sign_RomanceText_Short,&#xA;&#x9;[ColorAdded] = extColorAdded.AttributeValue,&#xA;&#x9;[CountryOfProcessing] = extCountryOfProcessing.AttributeValue,&#xA;&#x9;[Origin] = extOrigin.AttributeValue,&#xA;&#x9;[ElectronicShelfTag] = extElectronicShelfTag.AttributeValue,&#xA;&#x9;[Exclusive] = extExclusive.AttributeValue,&#xA;&#x9;[NumberOfDigitsSentToScale] = extNumDigitsToScale.AttributeValue,&#xA;&#x9;[ChicagoBaby] = extChicagoBaby.AttributeValue,&#xA;&#x9;[TagUom] = extTagUom.AttributeValue,&#xA;&#x9;[LinkedItem] = extLinkedScanCode.AttributeValue,&#xA;&#x9;[ScaleExtraText] = extScaleExtraText.AttributeValue,&#xA;&#x9;[Msrp] = ial.Msrp,&#xA;&#x9;[InProcessBy] = null,&#xA;&#x9;[ProcessedDate] = null,&#xA;&#x9;[SupplierName] = ils.SupplierName,&#xA;&#x9;[IrmaVendorKey] = ils.IrmaVendorKey ,&#xA;&#x9;[SupplierItemID] = ils.SupplierItemID ,&#xA;&#x9;[SupplierCaseSize] = ils.SupplierCaseSize, &#xA;&#x9;[OrderedByInfor] = ial.OrderedByInfor,&#xA;&#x9;[AltRetailSize] = ial.AltRetailSize,&#xA;&#x9;[AltRetailUOM]  = ial.AltRetailUOM,&#xA;&#x9;[IrmaItemKey]  = ial.IrmaItemKey,&#xA;&#x9;[DefaultScanCode]  = ial.DefaultScanCode&#xA;from stage.EtlItemAuthorizedDataResults&quot; + @[User::Region] + &quot; etl&#xA;join Items i on etl.ItemId = i.ItemID&#xA;join ItemTypes it on i.ItemTypeID = it.itemTypeID&#xA;join Locales_&quot; + @[User::Region] + &quot; l on etl.BusinessUnitId = l.BusinessUnitID&#xA;join ItemAttributes_Locale_&quot; + @[User::Region] + &quot; ial on i.ItemID = ial.ItemID&#xA;&#x9;and l.BusinessUnitID = ial.BusinessUnitID&#xA;left join ItemLocale_Supplier_&quot; + @[User::Region] + &quot; ils on ial.ItemID = ils.ItemID&#xA;&#x9;and ial.BusinessUnitID = ils.BusinessUnitID&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extColorAdded on ial.ItemID = extColorAdded.ItemID&#xA;&#x9;and l.LocaleID = extColorAdded.LocaleID&#xA;&#x9;and extColorAdded.AttributeID = @ColorAddedId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extCountryOfProcessing on ial.ItemID = extCountryOfProcessing.ItemID&#xA;&#x9;and l.LocaleID = extCountryOfProcessing.LocaleID&#xA;&#x9;and extCountryOfProcessing.AttributeID = @CountryOfProcessingId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extOrigin on ial.ItemID = extOrigin.ItemID&#xA;&#x9;and l.LocaleID = extOrigin.LocaleID&#xA;&#x9;and extOrigin.AttributeID = @OriginId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extElectronicShelfTag on ial.ItemID = extElectronicShelfTag.ItemID&#xA;&#x9;and l.LocaleID = extElectronicShelfTag.LocaleID&#xA;&#x9;and extElectronicShelfTag.AttributeID = @ElectronicShelfTagId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extExclusive on ial.ItemID = extExclusive.ItemID&#xA;&#x9;and l.LocaleID = extExclusive.LocaleID&#xA;&#x9;and extExclusive.AttributeID = @ExclusiveId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extNumDigitsToScale on ial.ItemID = extNumDigitsToScale.ItemID&#xA;&#x9;and l.LocaleID = extNumDigitsToScale.LocaleID&#xA;&#x9;and extNumDigitsToScale.AttributeID = @NumDigitsToScaleId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extChicagoBaby on ial.ItemID = extChicagoBaby.ItemID&#xA;&#x9;and l.LocaleID = extChicagoBaby.LocaleID&#xA;&#x9;and extChicagoBaby.AttributeID = @ChicagoBabyId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extTagUom on ial.ItemID = extTagUom.ItemID&#xA;&#x9;and l.LocaleID = extTagUom.LocaleID&#xA;&#x9;and extTagUom.AttributeID = @TagUomId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extLinkedScanCode on ial.ItemID = extLinkedScanCode.ItemID&#xA;&#x9;and l.LocaleID = extLinkedScanCode.LocaleID&#xA;&#x9;and extLinkedScanCode.AttributeID = @LinkedScanCodeId&#xA;left join ItemAttributes_Locale_&quot; + @[User::Region] + &quot;_Ext extScaleExtraText on ial.ItemID = extScaleExtraText.ItemID&#xA;&#x9;and l.LocaleID = extScaleExtraText.LocaleID&#xA;&#x9;and extScaleExtraText.AttributeID = @ScaleExtraTextId&#xA;WHERE etl.AuthorizedOriginalValue &lt;&gt; etl.AuthorizedNewValue&quot;"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="InsertIntoMessageQueueItemLocale">
      <DTS:VariableValue
        DTS:DataType="8">DECLARE @MessageTypeId INT = (SELECT TOP 1 MessageTypeId FROM esb.MessageType WHERE MessageTypeName = 'Item Locale'),
		@MessageStatusId INT = (SELECT TOP 1 MessageStatusId FROM esb.MessageStatus WHERE MessageStatusName = 'Ready'),
		@MessageActionId INT = (SELECT TOP 1 MessageActionId FROM esb.MessageAction WHERE MessageActionName = 'AddOrUpdate'),
		@RegionCode NVARCHAR(2) = '',
		@ColorAddedId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Color Added'),
		@CountryOfProcessingId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Country of Processing'),
		@OriginId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Origin'),
		@ElectronicShelfTagId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Electronic Shelf Tag'),
		@ExclusiveId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Exclusive'),
		@NumDigitsToScaleId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Number of Digits Sent To Scale'),
		@ChicagoBabyId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Chicago Baby'),
		@TagUomId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Tag UOM'),
		@LinkedScanCodeId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Linked Scan Code'),
		@ScaleExtraTextId INT = (SELECT TOP 1 AttributeId FROM dbo.Attributes WHERE AttributeDesc = 'Scale Extra Text')

insert into
	esb.MessageQueueItemLocale
select
	[MessageTypeId] = @MessageTypeId,
	[MessageStatusId] = @MessageStatusId,
	[MessageHistoryId] = null,
	[MessageActionId] = @MessageActionId,
	[InsertDate] = sysdatetime(),
	[RegionCode] = @RegionCode,
	[BusinessUnitId] = l.BusinessUnitID,
	[ItemId] = i.ItemID,
	[ItemTypeCode] = it.ItemTypeCode,
	[ItemTypeDesc] = it.ItemTypeDesc,
	[LocaleName] = l.StoreName,
	[ScanCode] = i.ScanCode,
	[CaseDiscount] = ial.Discount_Case,
	[TmDiscount] = ial.Discount_TM,
	[AgeRestriction] = ial.Restriction_Age,
	[RestrictedHours] = ial.Restriction_Hours,
	[Authorized] = ial.Authorized,
	[Discontinued] = ial.Discontinued,
	[LabelTypeDescription] = ial.LabelTypeDesc,
	[LocalItem] = ial.LocalItem,
	[ProductCode] = ial.Product_Code,
	[RetailUnit] = ial.RetailUnit,
	[SignDescription] = ial.Sign_Desc,
	[Locality] = ial.Locality,
	[SignRomanceLong] = ial.Sign_RomanceText_Long,
	[SignRomanceShort] = ial.Sign_RomanceText_Short,
	[ColorAdded] = extColorAdded.AttributeValue,
	[CountryOfProcessing] = extCountryOfProcessing.AttributeValue,
	[Origin] = extOrigin.AttributeValue,
	[ElectronicShelfTag] = extElectronicShelfTag.AttributeValue,
	[Exclusive] = extExclusive.AttributeValue,
	[NumberOfDigitsSentToScale] = extNumDigitsToScale.AttributeValue,
	[ChicagoBaby] = extChicagoBaby.AttributeValue,
	[TagUom] = extTagUom.AttributeValue,
	[LinkedItem] = extLinkedScanCode.AttributeValue,
	[ScaleExtraText] = extScaleExtraText.AttributeValue,
	[Msrp] = ial.Msrp,
	[InProcessBy] = null,
	[ProcessedDate] = null,
	[SupplierName] = ils.SupplierName,
	[IrmaVendorKey] = ils.IrmaVendorKey ,
	[SupplierItemID] = ils.SupplierItemID ,
	[SupplierCaseSize] = ils.SupplierCaseSize, 
	[OrderedByInfor] = ial.OrderedByInfor,
	[AltRetailSize] = ial.AltRetailSize,
	[AltRetailUOM]  = ial.AltRetailUOM,
	[IrmaItemKey]  = ial.IrmaItemKey,
	[DefaultScanCode]  = ial.DefaultScanCode
from stage.EtlItemAuthorizedDataResults etl
join Items i on etl.ItemId = i.ItemID
join ItemTypes it on i.ItemTypeID = it.itemTypeID
join Locales_ l on etl.BusinessUnitId = l.BusinessUnitID
join ItemAttributes_Locale_ ial on i.ItemID = ial.ItemID
	and l.BusinessUnitID = ial.BusinessUnitID
left join ItemLocale_Supplier_ ils on ial.ItemID = ils.ItemID
	and ial.BusinessUnitID = ils.BusinessUnitID
left join ItemAttributes_Locale__Ext extColorAdded on ial.ItemID = extColorAdded.ItemID
	and l.LocaleID = extColorAdded.LocaleID
	and extColorAdded.AttributeID = @ColorAddedId
left join ItemAttributes_Locale__Ext extCountryOfProcessing on ial.ItemID = extCountryOfProcessing.ItemID
	and l.LocaleID = extCountryOfProcessing.LocaleID
	and extCountryOfProcessing.AttributeID = @CountryOfProcessingId
left join ItemAttributes_Locale__Ext extOrigin on ial.ItemID = extOrigin.ItemID
	and l.LocaleID = extOrigin.LocaleID
	and extOrigin.AttributeID = @OriginId
left join ItemAttributes_Locale__Ext extElectronicShelfTag on ial.ItemID = extElectronicShelfTag.ItemID
	and l.LocaleID = extElectronicShelfTag.LocaleID
	and extElectronicShelfTag.AttributeID = @ElectronicShelfTagId
left join ItemAttributes_Locale__Ext extExclusive on ial.ItemID = extExclusive.ItemID
	and l.LocaleID = extExclusive.LocaleID
	and extExclusive.AttributeID = @ExclusiveId
left join ItemAttributes_Locale__Ext extNumDigitsToScale on ial.ItemID = extNumDigitsToScale.ItemID
	and l.LocaleID = extNumDigitsToScale.LocaleID
	and extNumDigitsToScale.AttributeID = @NumDigitsToScaleId
left join ItemAttributes_Locale__Ext extChicagoBaby on ial.ItemID = extChicagoBaby.ItemID
	and l.LocaleID = extChicagoBaby.LocaleID
	and extChicagoBaby.AttributeID = @ChicagoBabyId
left join ItemAttributes_Locale__Ext extTagUom on ial.ItemID = extTagUom.ItemID
	and l.LocaleID = extTagUom.LocaleID
	and extTagUom.AttributeID = @TagUomId
left join ItemAttributes_Locale__Ext extLinkedScanCode on ial.ItemID = extLinkedScanCode.ItemID
	and l.LocaleID = extLinkedScanCode.LocaleID
	and extLinkedScanCode.AttributeID = @LinkedScanCodeId
left join ItemAttributes_Locale__Ext extScaleExtraText on ial.ItemID = extScaleExtraText.ItemID
	and l.LocaleID = extScaleExtraText.LocaleID
	and extScaleExtraText.AttributeID = @ScaleExtraTextId
WHERE etl.AuthorizedOriginalValue &lt;&gt; etl.AuthorizedNewValue</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{38C7A028-FCE1-4796-AE5B-3F581D54EFC7}"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="Region">
      <DTS:VariableValue
        DTS:DataType="8"
        xml:space="preserve"></DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{8778E605-B3F5-4802-8C32-47251ED32A1D}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="&quot;UPDATE ial&#xA;SET Authorized = etl.Authorized&#xA;OUTPUT inserted.ItemID&#xA;&#x9;,i.ScanCode&#xA;&#x9;,inserted.BusinessUnitID&#xA;&#x9;,deleted.Authorized&#xA;&#x9;,inserted.Authorized&#xA;INTO &quot; + @[User::EtlItemAuthorizedDataResultsTable] + &quot;&#xA;FROM &quot; + @[User::EtlItemAuthorizedDataTable] + &quot; etl&#xA;JOIN Items i ON etl.ScanCode = i.ScanCode&#xA;JOIN ItemAttributes_Locale_&quot; + @[User::Region] + &quot; ial ON i.ItemID = ial.ItemID&#xA;&#x9;AND etl.BusinessUnitId = ial.BusinessUnitID&#xA;WHERE ial.Authorized &lt;&gt; etl.Authorized&quot;"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="UpdateMammothAuthorizedSql">
      <DTS:VariableValue
        DTS:DataType="8">UPDATE ial
SET Authorized = etl.Authorized
OUTPUT inserted.ItemID
	,i.ScanCode
	,inserted.BusinessUnitID
	,deleted.Authorized
	,inserted.Authorized
INTO stage.EtlItemAuthorizedDataResults
FROM stage.EtlItemAuthorizedData etl
JOIN Items i ON etl.ScanCode = i.ScanCode
JOIN ItemAttributes_Locale_ ial ON i.ItemID = ial.ItemID
	AND etl.BusinessUnitId = ial.BusinessUnitID
WHERE ial.Authorized &lt;&gt; etl.Authorized</DTS:VariableValue>
    </DTS:Variable>
  </DTS:Variables>
  <DTS:Executables>
    <DTS:Executable
      DTS:refId="Package\Create EtlItemAuthorization tables in Mammoth"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{EE0A51A1-CEDB-46EC-AC8C-E1FFD0DB27E1}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Create EtlItemAuthorization tables in Mammoth"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{38040F27-A36D-4E76-AAF7-5200AB65D2F4}"
          SQLTask:SqlStmtSourceType="Variable"
          SQLTask:SqlStatementSource="User::CreateEtlItemAuthorizationTableSql" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Delete Staged Data Not In Mammoth"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{126F794C-55A5-4E55-8853-8A6539C5CC95}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Delete Staged Data Not In Mammoth"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{38040F27-A36D-4E76-AAF7-5200AB65D2F4}"
          SQLTask:SqlStmtSourceType="Variable"
          SQLTask:SqlStatementSource="User::DeleteEtlDataNotInMammothSql" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Get Region from IRMA"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{069CFE54-F4B4-446B-A4EA-5E9ECAF60B73}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Get Region from IRMA"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{7739D87E-20B3-4321-9C01-BF3A10587FD0}"
          SQLTask:SqlStatementSource="SELECT TOP 1 &#xA;&#x9;RegionCode as Region&#xA;FROM Region"
          SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="Region"
            SQLTask:DtsVariableName="User::Region" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Insert into MessageQueueItemLocale"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{6414B8F8-692F-49F9-8E2B-27AC3147C0D5}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Insert into MessageQueueItemLocale"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{38040F27-A36D-4E76-AAF7-5200AB65D2F4}"
          SQLTask:SqlStmtSourceType="Variable"
          SQLTask:SqlStatementSource="User::InsertIntoMessageQueueItemLocale" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Transfer data from IRMA to Mammoth"
      DTS:CreationName="Microsoft.Pipeline"
      DTS:DelayValidation="True"
      DTS:Description="Data Flow Task"
      DTS:DTSID="{4AF5FA5B-94E8-4C6C-B2E9-864B54BFC48B}"
      DTS:ExecutableType="Microsoft.Pipeline"
      DTS:LocaleID="-1"
      DTS:ObjectName="Transfer data from IRMA to Mammoth">
      <DTS:Variables />
      <DTS:ObjectData>
        <pipeline
          version="1">
          <components>
            <component
              refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination"
              componentClassID="Microsoft.OLEDBDestination"
              contactInfo="OLE DB Destination;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved; http://www.microsoft.com/sql/support;4"
              description="OLE DB Destination"
              name="OLE DB Destination"
              usesDispositions="true"
              version="4">
              <properties>
                <property
                  dataType="System.Int32"
                  description="The number of seconds before a command times out.  A value of 0 indicates an infinite time-out."
                  name="CommandTimeout">0</property>
                <property
                  dataType="System.String"
                  description="Specifies the name of the database object used to open a rowset."
                  name="OpenRowset">[stage].[EtlItemAutorizedDataFL]</property>
                <property
                  dataType="System.String"
                  description="Specifies the variable that contains the name of the database object used to open a rowset."
                  name="OpenRowsetVariable">User::EtlItemAuthorizedDataTable</property>
                <property
                  dataType="System.String"
                  description="The SQL command to be executed."
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=15.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91"></property>
                <property
                  dataType="System.Int32"
                  description="Specifies the column code page to use when code page information is unavailable from the data source."
                  name="DefaultCodePage">1252</property>
                <property
                  dataType="System.Boolean"
                  description="Forces the use of the DefaultCodePage property value when describing character data."
                  name="AlwaysUseDefaultCodePage">false</property>
                <property
                  dataType="System.Int32"
                  description="Specifies the mode used to access the database."
                  name="AccessMode"
                  typeConverter="AccessMode">4</property>
                <property
                  dataType="System.Boolean"
                  description="Indicates whether the values supplied for identity columns will be copied to the destination. If false, values for identity columns will be auto-generated at the destination. Applies only if fast load is turned on."
                  name="FastLoadKeepIdentity">false</property>
                <property
                  dataType="System.Boolean"
                  description="Indicates whether the columns containing null will have null inserted in the destination. If false, columns containing null will have their default values inserted at the destination. Applies only if fast load is turned on."
                  name="FastLoadKeepNulls">false</property>
                <property
                  dataType="System.String"
                  description="Specifies options to be used with fast load.  Applies only if fast load is turned on."
                  name="FastLoadOptions">TABLOCK,CHECK_CONSTRAINTS</property>
                <property
                  dataType="System.Int32"
                  description="Specifies when commits are issued during data insertion.  A value of 0 specifies that one commit will be issued at the end of data insertion.  Applies only if fast load is turned on."
                  name="FastLoadMaxInsertCommitSize">2147483647</property>
              </properties>
              <connections>
                <connection
                  refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Connections[OleDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[MammothConnection]"
                  connectionManagerRefId="Package.ConnectionManagers[MammothConnection]"
                  description="The OLE DB runtime connection used to access the database."
                  name="OleDbConnection" />
              </connections>
              <inputs>
                <input
                  refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input]"
                  errorOrTruncationOperation="Insert"
                  errorRowDisposition="FailComponent"
                  hasSideEffects="true"
                  name="OLE DB Destination Input">
                  <inputColumns>
                    <inputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].Columns[ItemKey]"
                      cachedDataType="i4"
                      cachedName="ItemKey"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[ItemKey]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[ItemKey]" />
                    <inputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].Columns[ScanCode]"
                      cachedDataType="wstr"
                      cachedLength="13"
                      cachedName="ScanCode"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[ScanCode]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[ScanCode]" />
                    <inputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].Columns[BusinessUnitId]"
                      cachedDataType="i4"
                      cachedName="BusinessUnitId"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[BusinessUnitId]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[BusinessUnitId]" />
                    <inputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].Columns[Authorized]"
                      cachedDataType="i4"
                      cachedName="Authorized"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[Authorized]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[Authorized]" />
                    <inputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].Columns[DeletedItem]"
                      cachedDataType="bool"
                      cachedName="DeletedItem"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[DeletedItem]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[DeletedItem]" />
                    <inputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].Columns[DeletedIdentifier]"
                      cachedDataType="ui1"
                      cachedName="DeletedIdentifier"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[DeletedIdentifier]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[DeletedIdentifier]" />
                  </inputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[ItemKey]"
                      dataType="i4"
                      name="ItemKey" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[ScanCode]"
                      dataType="wstr"
                      length="13"
                      name="ScanCode" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[BusinessUnitId]"
                      dataType="i4"
                      name="BusinessUnitId" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[Authorized]"
                      dataType="bool"
                      name="Authorized" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[DeletedItem]"
                      dataType="bool"
                      name="DeletedItem" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input].ExternalColumns[DeletedIdentifier]"
                      dataType="bool"
                      name="DeletedIdentifier" />
                  </externalMetadataColumns>
                </input>
              </inputs>
              <outputs>
                <output
                  refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Outputs[OLE DB Destination Error Output]"
                  exclusionGroup="1"
                  isErrorOut="true"
                  name="OLE DB Destination Error Output"
                  synchronousInputId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input]">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Outputs[OLE DB Destination Error Output].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Outputs[OLE DB Destination Error Output].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Outputs[OLE DB Destination Error Output].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Outputs[OLE DB Destination Error Output].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
            <component
              refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source"
              componentClassID="Microsoft.OLEDBSource"
              contactInfo="OLE DB Source;Microsoft Corporation; Microsoft SQL Server; (C) Microsoft Corporation; All Rights Reserved; http://www.microsoft.com/sql/support;7"
              description="OLE DB Source"
              name="OLE DB Source"
              usesDispositions="true"
              version="7">
              <properties>
                <property
                  dataType="System.Int32"
                  description="The number of seconds before a command times out.  A value of 0 indicates an infinite time-out."
                  name="CommandTimeout">0</property>
                <property
                  dataType="System.String"
                  description="Specifies the name of the database object used to open a rowset."
                  name="OpenRowset"></property>
                <property
                  dataType="System.String"
                  description="Specifies the variable that contains the name of the database object used to open a rowset."
                  name="OpenRowsetVariable"></property>
                <property
                  dataType="System.String"
                  description="The SQL command to be executed."
                  name="SqlCommand"
                  UITypeEditor="Microsoft.DataTransformationServices.Controls.ModalMultilineStringEditor, Microsoft.DataTransformationServices.Controls, Version=15.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91">SELECT i.Item_Key AS ItemKey
	,CAST(ii.Identifier AS NVARCHAR(13)) AS ScanCode
	,s.BusinessUnit_ID AS BusinessUnitId
	,0 AS Authorized
	,i.Deleted_Item AS DeletedItem
	,ii.Deleted_Identifier AS DeletedIdentifier
FROM Item AS i
INNER JOIN ItemIdentifier AS ii ON i.Item_Key = ii.Item_Key
INNER JOIN StoreItem AS si ON ii.Item_Key = si.Item_Key
INNER JOIN Store AS s ON si.Store_No = s.Store_No
WHERE (ii.Deleted_Identifier = 1)
	AND (
		ii.Identifier NOT IN (
			SELECT Identifier
			FROM ItemIdentifier
			WHERE (Deleted_Identifier = 0)
			)
		)</property>
                <property
                  dataType="System.String"
                  description="The variable that contains the SQL command to be executed."
                  name="SqlCommandVariable"></property>
                <property
                  dataType="System.Int32"
                  description="Specifies the column code page to use when code page information is unavailable from the data source."
                  name="DefaultCodePage">1252</property>
                <property
                  dataType="System.Boolean"
                  description="Forces the use of the DefaultCodePage property value when describing character data."
                  name="AlwaysUseDefaultCodePage">false</property>
                <property
                  dataType="System.Int32"
                  description="Specifies the mode used to access the database."
                  name="AccessMode"
                  typeConverter="AccessMode">2</property>
                <property
                  dataType="System.String"
                  description="The mappings between the parameters in the SQL command and variables."
                  name="ParameterMapping"></property>
              </properties>
              <connections>
                <connection
                  refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Connections[OleDbConnection]"
                  connectionManagerID="Package.ConnectionManagers[IrmaConnection]"
                  connectionManagerRefId="Package.ConnectionManagers[IrmaConnection]"
                  description="The OLE DB runtime connection used to access the database."
                  name="OleDbConnection" />
              </connections>
              <outputs>
                <output
                  refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output]"
                  name="OLE DB Source Output">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[ItemKey]"
                      dataType="i4"
                      errorOrTruncationOperation="Conversion"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[ItemKey]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[ItemKey]"
                      name="ItemKey"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[ScanCode]"
                      dataType="wstr"
                      errorOrTruncationOperation="Conversion"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[ScanCode]"
                      length="13"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[ScanCode]"
                      name="ScanCode"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[BusinessUnitId]"
                      dataType="i4"
                      errorOrTruncationOperation="Conversion"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[BusinessUnitId]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[BusinessUnitId]"
                      name="BusinessUnitId"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[Authorized]"
                      dataType="i4"
                      errorOrTruncationOperation="Conversion"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[Authorized]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[Authorized]"
                      name="Authorized"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[DeletedItem]"
                      dataType="bool"
                      errorOrTruncationOperation="Conversion"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[DeletedItem]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[DeletedItem]"
                      name="DeletedItem"
                      truncationRowDisposition="FailComponent" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[DeletedIdentifier]"
                      dataType="ui1"
                      errorOrTruncationOperation="Conversion"
                      errorRowDisposition="FailComponent"
                      externalMetadataColumnId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[DeletedIdentifier]"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].Columns[DeletedIdentifier]"
                      name="DeletedIdentifier"
                      truncationRowDisposition="FailComponent" />
                  </outputColumns>
                  <externalMetadataColumns
                    isUsed="True">
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[ItemKey]"
                      dataType="i4"
                      name="ItemKey" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[ScanCode]"
                      dataType="wstr"
                      length="13"
                      name="ScanCode" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[BusinessUnitId]"
                      dataType="i4"
                      name="BusinessUnitId" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[Authorized]"
                      dataType="i4"
                      name="Authorized" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[DeletedItem]"
                      dataType="bool"
                      name="DeletedItem" />
                    <externalMetadataColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output].ExternalColumns[DeletedIdentifier]"
                      dataType="ui1"
                      name="DeletedIdentifier" />
                  </externalMetadataColumns>
                </output>
                <output
                  refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output]"
                  isErrorOut="true"
                  name="OLE DB Source Error Output">
                  <outputColumns>
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[ItemKey]"
                      dataType="i4"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[ItemKey]"
                      name="ItemKey" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[ScanCode]"
                      dataType="wstr"
                      length="13"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[ScanCode]"
                      name="ScanCode" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[BusinessUnitId]"
                      dataType="i4"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[BusinessUnitId]"
                      name="BusinessUnitId" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[Authorized]"
                      dataType="i4"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[Authorized]"
                      name="Authorized" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[DeletedItem]"
                      dataType="bool"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[DeletedItem]"
                      name="DeletedItem" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[DeletedIdentifier]"
                      dataType="ui1"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[DeletedIdentifier]"
                      name="DeletedIdentifier" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[ErrorCode]"
                      dataType="i4"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[ErrorCode]"
                      name="ErrorCode"
                      specialFlags="1" />
                    <outputColumn
                      refId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[ErrorColumn]"
                      dataType="i4"
                      lineageId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Error Output].Columns[ErrorColumn]"
                      name="ErrorColumn"
                      specialFlags="2" />
                  </outputColumns>
                  <externalMetadataColumns />
                </output>
              </outputs>
            </component>
          </components>
          <paths>
            <path
              refId="Package\Transfer data from IRMA to Mammoth.Paths[OLE DB Source Output]"
              endId="Package\Transfer data from IRMA to Mammoth\OLE DB Destination.Inputs[OLE DB Destination Input]"
              name="OLE DB Source Output"
              startId="Package\Transfer data from IRMA to Mammoth\OLE DB Source.Outputs[OLE DB Source Output]" />
          </paths>
        </pipeline>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Update Mammoth Authorized"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{2B2BB037-5842-459F-B758-718466129E07}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Update Mammoth Authorized"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{38040F27-A36D-4E76-AAF7-5200AB65D2F4}"
          SQLTask:SqlStmtSourceType="Variable"
          SQLTask:SqlStatementSource="User::UpdateMammothAuthorizedSql" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask" />
      </DTS:ObjectData>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:PrecedenceConstraints>
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint]"
      DTS:CreationName=""
      DTS:DTSID="{80E7BD34-541F-4145-A1AC-FA2C368DF113}"
      DTS:From="Package\Transfer data from IRMA to Mammoth"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint"
      DTS:To="Package\Delete Staged Data Not In Mammoth" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 1]"
      DTS:CreationName=""
      DTS:DTSID="{F4E5C868-5822-403A-A996-BFB969A53EC8}"
      DTS:From="Package\Get Region from IRMA"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 1"
      DTS:To="Package\Create EtlItemAuthorization tables in Mammoth" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 2]"
      DTS:CreationName=""
      DTS:DTSID="{5B4ADA0F-C8BA-4903-8133-6B8E293436E2}"
      DTS:From="Package\Create EtlItemAuthorization tables in Mammoth"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 2"
      DTS:To="Package\Transfer data from IRMA to Mammoth" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 3]"
      DTS:CreationName=""
      DTS:DTSID="{C806856C-6040-43BA-955D-FE6B8E4D9D28}"
      DTS:From="Package\Update Mammoth Authorized"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 3"
      DTS:To="Package\Insert into MessageQueueItemLocale" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 4]"
      DTS:CreationName=""
      DTS:DTSID="{D81F154A-8757-47F9-886C-2D2BBDFB05C5}"
      DTS:From="Package\Delete Staged Data Not In Mammoth"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 4"
      DTS:To="Package\Update Mammoth Authorized" />
  </DTS:PrecedenceConstraints>
  <DTS:DesignTimeProperties><![CDATA[<?xml version="1.0"?>
<!--This CDATA section contains the layout information of the package. The section includes information such as (x,y) coordinates, width, and height.-->
<!--If you manually edit this section and make a mistake, you can delete it. -->
<!--The package will still be able to load normally but the previous layout information will be lost and the designer will automatically re-arrange the elements on the design surface.-->
<Objects
  Version="8">
  <!--Each node below will contain properties that do not affect runtime behavior.-->
  <Package
    design-time-name="Package">
    <LayoutInfo>
      <GraphLayout
        Capacity="16" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml">
        <NodeLayout
          Size="301.6,41.6"
          Id="Package\Create EtlItemAuthorization tables in Mammoth"
          TopLeft="118.285716300109,73.270588870197" />
        <NodeLayout
          Size="252.8,41.6"
          Id="Package\Delete Staged Data Not In Mammoth"
          TopLeft="142.857145289986,214.16470746103" />
        <NodeLayout
          Size="184,41.6"
          Id="Package\Get Region from IRMA"
          TopLeft="178.857145903062,4.28235300123481" />
        <NodeLayout
          Size="253.6,41.6"
          Id="Package\Insert into MessageQueueItemLocale"
          TopLeft="143.428573871145,346.776472321348" />
        <NodeLayout
          Size="258.4,41.6"
          Id="Package\Transfer data from IRMA to Mammoth"
          TopLeft="140.928573734907,138.25294303828" />
        <NodeLayout
          Size="216,41.6"
          Id="Package\Update Mammoth Authorized"
          TopLeft="165.142859955223,280.188239223651" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint]"
          TopLeft="269.692859512446,179.85294303828">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,34.3117644227502"
              Start="0,0"
              End="0,26.8117644227502">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,26.8117644227502" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 1]"
          TopLeft="269.971431101585,45.8823530012348">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,27.3882358689622"
              Start="0,0"
              End="0,19.8882358689622">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,19.8882358689622" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 2]"
          TopLeft="269.607145017508,114.870588870197">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,23.3823541680831"
              Start="0,0"
              End="0,15.8823541680831">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,15.8823541680831" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 3]"
          TopLeft="271.685716913184,321.788239223651">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,24.9882330976969"
              Start="0,0"
              End="0,17.4882330976969">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,17.4882330976969" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 4]"
          TopLeft="271.200002622605,255.76470746103">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,24.4235317626211"
              Start="0,0"
              End="0,16.9235317626211">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,16.9235317626211" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </Package>
  <TaskHost
    design-time-name="Package\Transfer data from IRMA to Mammoth">
    <LayoutInfo>
      <GraphLayout
        Capacity="4" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml">
        <NodeLayout
          Size="149.6,41.6"
          Id="Package\Transfer data from IRMA to Mammoth\OLE DB Source"
          TopLeft="117.142859137788,70.9647068776062" />
        <NodeLayout
          Size="170.4,41.6"
          Id="Package\Transfer data from IRMA to Mammoth\OLE DB Destination"
          TopLeft="358.285720387284,70.352942163144" />
        <EdgeLayout
          Id="Package\Transfer data from IRMA to Mammoth.Paths[OLE DB Source Output]"
          TopLeft="266.742859137788,91.4588245203751">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="91.5428612494956,0"
              Start="0,0"
              End="84.0428612494956,0">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="84.0428612494956,0" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </TaskHost>
  <PipelineComponentMetadata
    design-time-name="Package\Transfer data from IRMA to Mammoth\OLE DB Destination">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
      <Property>
        <Name>TableInfoObjectType</Name>
        <Value
          type="q2:string">Table</Value>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
  <PipelineComponentMetadata
    design-time-name="Package\Transfer data from IRMA to Mammoth\OLE DB Source">
    <Properties>
      <Property>
        <Name>DataSourceViewID</Name>
      </Property>
    </Properties>
  </PipelineComponentMetadata>
</Objects>]]></DTS:DesignTimeProperties>
</DTS:Executable>