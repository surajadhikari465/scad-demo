@using Infragistics.Web.Mvc
@model Icon.Web.Mvc.Models.EwicMappingSearchViewModel

@{
    ViewBag.Title = "Mappings";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{Html.RenderPartial("_HeaderPartial", "eWIC Mappings");}

<hr />

<div class="page-section">
    @if (Model.AplScanCodes.Any())
    {
        using (Html.BeginForm("MappingDetail", "Ewic", FormMethod.Get, new { @class = "begin-form form-horizontal" }))
        {
            <fieldset>
                <legend>Select APL Scan Code to View Mappings</legend>
                <div class="form-group">
                        @(Html.Infragistics().ComboFor(model => model.AplScanCodeSelectedId)
                                .DataSource(Model.AplScanCodes)
                                .Width("20%")
                                .DropDownWidth(0)
                                .ValueKey("Value")
                                .TextKey("Text")
                                .FilteringCondition("contains")
                                .FilteringType(ComboFilteringType.Local)
                                .Render()
                        )
                </div>
                <div class="form-group">
                     <input type="submit" value="Display" class="btn btn-light" id="displayMappingButton" />
                     @Html.ValidationMessageFor(model => model.AplScanCodeSelectedId, null, new { @class = "form-property-val" })
                </div>
            </fieldset>
        }
    }
    else
    {
        <div class="page-subsection">
            <h4>No scan codes were found in the APL.</h4>
        </div>
    }
</div>

<div class="page-section" id="mappingResults"></div>

@section scripts
{
    @Scripts.Render("~/Scripts/Ewic/mappings.js")
    @Scripts.Render("~/Scripts/jquery-disable.js")
}
