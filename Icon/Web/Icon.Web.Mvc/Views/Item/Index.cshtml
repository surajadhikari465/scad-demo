@{
    ViewBag.Title = "Item Search";
}
<h3 class="mt-2">Item Search</h3>

<style type="text/css">
    .modal-content {
        width: 700px;
    }
    input {
        max-width: 100%;
    }

    #mDialog {
        overflow-y: initial !important
    }
   
</style>
<div id="loading">
    <div class="spinner-border text-info" role="status">
    </div>
</div>
<input type="hidden" id="hideMissingScanCodeCall" />
<div class="mx-3 d-none" id="searchtools">
    <ul id="attributes" class="list-unstyled"></ul>
    <div class="my-1" id="divSearch">
        <button id="searchButton" class="btn btn-light">Search</button>
        <button type="button" class="btn" data-toggle="modal" data-target="#helpModal">?</button>
        <button id="btnmissingScancodes" class="btn btn-light" data-toggle="modal"
                data-target="#missingScanCodeModal" style="display: none; color: red; "></button>
        <div id="searchError" class="alert alert-danger" style="display:none;margin-top:10px;" role="alert"></div>
        <div style="margin-left:10px;float:right;">
            <button id="resetColumnsButton" class="btn btn-light" hidden="hidden">Reset Columns</button>
        </div>
        <div class="btn-group dropleft" id="ExportLink" style="display:none;margin-left:10px;float:right;">
            <button type="button" class="btn btn-light dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Export
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                <li>
                    <span href="#" class="dropdown-item">All Rows...</span>
                    <ul class="dropdown-submenu">
                        <li><a class="dropdown-item" id="allExportRowsSelectedColumns" href="#">Export Current Columns</a></li>
                        <li><a class="dropdown-item" id="allExportRowsAllColumns" href="#">Export All Columns</a></li>
                    </ul>
                </li>
                <li>
                    <span href="#" class="dropdown-item">Selected Rows...</span>
                    <ul class="dropdown-submenu">
                        <li><a class="disabled dropdown-item" id="selectedExportRowsSelectedColumns" href="#">Export Current Columns</a></li>
                        <li><a class="disabled dropdown-item" id="selectedExportRowsAllColumns" href="#">Export All Columns</a></li>
                    </ul>
                </li>
                <li class="dropdown-divider"></li>
                <li><a class="dropdown-item" id="selectedExportTemplate" href="#">Export Blank Template</a></li>
            </ul>
        </div>
    </div>
    
    
    <!-- Modal -->
    <div class="modal fade" id="helpModal" tabindex="-1" role="dialog" aria-labelledby="helpModalTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="helpModalTitle">Search Tips</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <b>Search criteria can be combined to filter records. Below there are examples on what the various search options mean with examples.</b>
                    <br />
                    <br />
                    <i>Use Exactly Matches(Any) and Exactly Matches(All) when possible. They are significantly faster than the other query types.</i>
                    <br />
                    <br />
                    <b>Product Description:Contains(Any)</b><br />
                    <i>Returns matches that contain any of the values anywhere in the search string.</i><br />
                    <br />
                    yellow<br />
                    Returns every product description with yellow in the value. Would return "yellow","54yellow","yellow87","yellow banana","banana yellow"<br /><br />
                    yellow banana<br />
                    Returns every product description with yellow or banana in the value. Would return "yellow","banana","yellow test","banana test","banana yellow", "yellow banana".<br /><br />
                    "yellow banana"<br />
                    Returns every product description with "yellow banana". Would return "yellow banana", "12yellow banana12".<br /><br />
                    "yellow banana" apple<br />
                    Returns every product description with "yellow banana" or apple. Would return "yellow banana", "apple", "34yellow banana", "apple45", "yellow banana apple".<br /><br />
                    <br />
                    <b>Product Description:Contains(All)</b><br />
                    <i>Returns matches that contain all of the values anywhere in the search string.</i><br />
                    <br />
                    yellow<br />
                    Returns every product description that contains yellow. Would return "yellow","54yellow","yellow87", "yellow banana", "banana yellow".<br /><br />
                    yellow banana<br />
                    Returns all product descriptions with yellow and banana in the value regardless of order. Would return "yellowbanana","bananayellow","5yellowbanana5", "yellow banana", "banana yellow".<br /><br />
                    "yellow banana"<br />
                    Returns all product descriptions with "yellow banana" in the value. Would return "yellow banana","12yellow banana12".<br /><br />
                    "yellow banana" apple<br />
                    Returns all product descriptions with "yellow banana" and apple in the value. Would return "yellow bananaapple","appleyellow banana","apple yellow banana", "yellow banana apple"<br /><br />
                    <br />
                    <b>Product Description:Exactly Matches(Any)</b><br />
                    <i>Returns matches that are exactly equal to any of the supplied criteria.</i><br />
                    <br />
                    yellow<br />
                    Returns all product descriptions that are exactly yellow. Would return "yellow".<br /><br />
                    yellow banana<br />
                    Returns all product descriptions that are exactly yellow or banana. Would return "yellow","banana".<br /><br />
                    "yellow banana"<br />
                    Returns all product descriptions with exactly "yellow banana" in the value. Would return "yellow banana".<br /><br />
                    "yellow banana" apple<br />
                    Returns all product descriptions with "yellow banana" or apple in the value. Would return "yellow banana", "apple".<br /><br />
                    <br />
                    <b>Product Description:Exactly Matches(All)</b><br />
                    <i>Returns matches that are equal to the supplied criteria.</i><br />
                    <br />
                    yellow<br />
                    Returns all product descriptions that exactly match yellow. Would return "yellow".<br /><br />
                    yellow banana<br />
                    Returns all product descriptions that exactly match "yellow banana". Would return "yellow banana".<br /><br />
                    "yellow banana"<br />
                    Returns all product descriptions with exactly "yellow banana" in the value. Would return "yellow banana".<br /><br />
                    yellow banana apple<br />
                    Returns all product descriptions with "yellow banana apple" in the value. Would return "yellow banana apple".<br /><br />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="missingScanCodeModal" tabindex="-1" role="dialog"
         aria-labelledby="missingScancodeModalTitle" aria-hidden="true">
        <div class="modal-dialog" role="document" id="mDialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="helpModalTitle">Missing Scan Codes</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="divMissingScancodes">
                    <textarea id="txtModel" name="txtModel" class="form-control" style="min-width: 100%" readonly="readonly"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row my-3">
        <div class="col-lg-12">
            <p id="selectedCount" style="min-height:25px" />
            <div id="grid" />
        </div>
    </div>
    <div id="alerts my-1" />
</div>
@section scripts
{
    <script src="~/Scripts/Item/search.js" type="module"></script>
}