@model IEnumerable<Icon.Dashboard.Mvc.ViewModels.ApiMessageJobSummaryViewModel>
@{
    string caption = ViewBag.Title ?? "API Controller Message Jobs Summary";
    string pageInfo = String.Empty;
    string dataAttributes = String.Empty;
    Icon.Dashboard.Mvc.ViewModels.PaginationPageSetViewModel pageSetModel = null;

    if (ViewBag.PaginationPageSetViewModel != null)
    {
        pageSetModel = ViewBag.PaginationPageSetViewModel as Icon.Dashboard.Mvc.ViewModels.PaginationPageSetViewModel;
        pageInfo = "(Page " + pageSetModel.CurrentPage.ToString() + ")";
    }
}

<div id="pagingDataTable" 
         data-page="@(pageSetModel.CurrentPage)" 
         data-pageSize="@(pageSetModel.PageSize)" 
         data-route-parameter="@(pageSetModel.RouteParameter)">
    <table class="table table-bordered table-condensed no-bottom-margin">
        <caption class="text-center"><h3>@caption @pageInfo</h3></caption>
        <thead>
            <tr>
                <th class="text-center hidden-xs hidden-sm hidden-md">
                    @Html.DisplayNameFor(model => model.APIMessageMonitorLogID)
                </th>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.MessageType)
                </th>
                <th class="text-center hidden-xs hidden-sm">
                    @Html.DisplayNameFor(model => model.StartTime)
                </th>
                <th class="text-center hidden-xs hidden-sm">
                    @Html.DisplayNameFor(model => model.EndTime)
                </th>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.ElapsedTime)
                </th>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.CountProcessedMessages)
                </th>
                <th class="text-center">
                    @Html.DisplayNameFor(model => model.CountFailedMessages)
                </th>
                <th class="text-center hidden-xs hidden-sm">
                    @Html.DisplayNameFor(model => model.CountTotalMessages)
                </th>
            </tr>
        </thead>
        <tbody id="logTableBody" class="text-center">
            @foreach (var jobSummary in Model)
            {
                @Html.DisplayFor(model => jobSummary)
            }
        </tbody>
    </table>
</div>
